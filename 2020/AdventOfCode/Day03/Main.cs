using System;
using System.Collections.Generic;
using System.Linq;

namespace AdventOfCode.Day03
{
    public static class Main
    {
        public static void Run()
        {
            var paths = new List<int>
            {
                CountTrees(1, 1),
                CountTrees(3, 1),
                CountTrees(5, 1),
                CountTrees(7, 1),
                CountTrees(1, 2),
            };

            Console.WriteLine($"Trees encountered (1,1): {paths[0]}");
            Console.WriteLine($"Trees encountered (3,1): {paths[1]}");
            Console.WriteLine($"Trees encountered (5,1): {paths[2]}");
            Console.WriteLine($"Trees encountered (7,1): {paths[3]}");
            Console.WriteLine($"Trees encountered (1,2): {paths[4]}");
            Console.WriteLine($"Product of all paths: {paths.Aggregate((a,b) => a * b)}");
        }

        private static int CountTrees(int rStep, int dStep)
        {
            var (trees, row, col) = (0, 0, 0);
            
            while (row < data.Count)
            {
                trees += (data[row][col] == '#') ? 1 : 0;

                col += rStep;
                if (col >= data[row].Length) col -= data[row].Length;

                row += dStep;
            }

            return trees;
        }

        private static List<string> data = new List<string>
        {
            ".........#.#.#.........#.#.....",
            "...#......#...#.....#.....#....",
            "#.....#.....#.....#.#........#.",
            "......#..#......#.......#......",
            ".#..........#.............#...#",
            "............#..##.......##...##",
            "....#.....#..#....#............",
            ".#..#.........#....#.#....#....",
            "#.#...#...##..##.#..##..#....#.",
            ".#.......#.#...#..........#....",
            "...#...#........##...#..#.....#",
            "..................#..........#.",
            ".....#.##..............#.......",
            "........#....##..##....#.......",
            "...#.....#.##..........#...##..",
            ".......#.#....#............#...",
            "..............#......#......#..",
            "#.......#...........#........##",
            ".......#.......##......#.......",
            "................#....##...#.#.#",
            "#.......#....................#.",
            ".##.#..##..#..#.#.....#.....#..",
            "#...#............#......##....#",
            ".#....##.#......#.#......#..#..",
            "..........#........#.#.#.......",
            "...#...#..........#..#....#....",
            "..#.#...#...#...##...##......#.",
            "......#...#........#.......###.",
            "....#...............#.###...#.#",
            "..................#.....#..#.#.",
            ".#...#..#..........#........#..",
            "#..........##................##",
            "...#.....#...#......#.#......#.",
            "......#..........#.#......#..#.",
            "..#......#.....................",
            "............#.........##.......",
            "......#.......#........#.......",
            "#.#...#...........#.......#....",
            ".#.#........#.#.#....#........#",
            "#.....##........#.#.....#.#....",
            ".#...#..........##...#.....#..#",
            ".........#....###............#.",
            "..#...#..............#.#.#.....",
            ".....#.#.#..#.#.#.###......#.#.",
            ".#.##...#.......###..#.........",
            ".....##....#.##..#.##..#.......",
            "..#...........##......#..#.....",
            "................##...#.........",
            "##.....................#..#.###",
            "...#..#....#...........#.......",
            ".#.............##.#.....#.#....",
            ".......#.#.#....##..#....#...#.",
            "...##..#..........#....#.......",
            "....##......#.........#........",
            ".##....#...........#.#.......#.",
            "...#...#.##.......#.#..........",
            "..#.........#.##...........#...",
            "....#.##........#.......#...##.",
            "...................#..#..#...##",
            "#...#......###..##.#..###......",
            "#.............#.#........#...#.",
            "...#...#..#..#..............#..",
            "#.....#..#...#...#......#.#..#.",
            "...##.............#........##.#",
            "......#.#.........#.#....#...#.",
            "........##............#...#....",
            "............#.#...#......#.....",
            "...#...........#...#...........",
            ".........#.#......#............",
            "....#.............#..#.....#..#",
            "#.....#...........#.....#.#.#.#",
            ".............#.....##......#...",
            "...................###.#......#",
            "#.##.....#...#..#..#...#....#..",
            "............#.....#....#.#.....",
            "#....#..#..........#....#..#...",
            "..........##..................#",
            "....#.......###..#......###....",
            ".......#...#.##.##..#....##....",
            "...##...............#.....#...#",
            "#...........#...#......#..#..#.",
            "..##....#.......#...#.....#....",
            ".......##..............#.##..#.",
            ".#......#..........#.......#...",
            "....##...................#.#..#",
            "......#....###................#",
            ".#........#...........#........",
            ".#.....##....#..##...........#.",
            "##..............##...#.......#.",
            "......#..........#..........##.",
            "..#.....#.#.........####....#..",
            ".............#......#......#...",
            "..#.............#...........##.",
            "#.#...#........#..........##...",
            "...#....#.....#.....#.....##...",
            "......#........................",
            "......#..#...#......#.....#....",
            "......#....##.....#....#.......",
            "#.#......#.##..#...............",
            "..........#.#.##..##..#........",
            "......#.#..#....###.#..........",
            "........................#....#.",
            "#.#.............#....#.....##.#",
            ".#.#..........#.......#..#....#",
            "..#...#......#..#..#...#.#...#.",
            "...#.##...###..................",
            "........#.#...........#...#....",
            "........#..........#....#......",
            "#....#........#.......##.....#.",
            "......###...##...#......#......",
            "............#.......#.....##..#",
            "....#..#.......##......#.......",
            "#............##................",
            "...............#..#......#...#.",
            ".#....##...#......#............",
            "#...#................#.........",
            "..#....#..#........##......#...",
            "....#....###......##.#.......#.",
            "......#.#..#.#..#....#..#......",
            "....#..........#..#..#.........",
            ".#..#.......#......#........#..",
            ".......#..#..#............#....",
            ".............#...#....#..#.....",
            "..............#.#.#.........#..",
            "#.....##.......#....#..........",
            "...#.....#......#..............",
            "...##.#..#.#........#..##....#.",
            ".......#.#.....##..#...........",
            ".....#.#....#..................",
            ".#......#.###..............##..",
            "..#....#...#..#...##...##....#.",
            "..........##..#...#..#.........",
            "..#............#........#.#...#",
            ".........................#.#.#.",
            "......#........#.#..#......##.#",
            "#.#......#..#.........#........",
            ".....#........#......#...#.#...",
            "........##....##....#.#........",
            "....#....#.#...#...##....#..#..",
            "#.............#.....#..........",
            "#............##..#............#",
            "..#.#......#........#..........",
            ".#......#......#.#.##.##.......",
            "..#.....#..........#......##...",
            "...#......#...#.##....#.....##.",
            "......#......#...........#.#...",
            "....#........#..#..#........#.#",
            "....#.........#.....#...#.#.#..",
            "....#.....###........#.........",
            ".............##........#.#.....",
            "...#............#........#.#.#.",
            "......#....#.......#.#.........",
            ".....#................#........",
            ".#....#..#.#.............#...#.",
            "#..##...#............#......#..",
            "...#..#........................",
            ".#.#...........#.......#.......",
            "#....###............##.........",
            "...##....#.#............##.....",
            ".........####......#........#..",
            ".....#.......#.#...............",
            ".......#...#.###..#....#...#..#",
            "...#.....##..#....#..#.#...###.",
            ".............#........#.#.#..#.",
            "................#..........##..",
            ".......####..##..##........##.#",
            "..#......#..#..#.#.##..........",
            "#....#........#....#...###.#.#.",
            "........##........##.....#.....",
            "...........#.#...........#....#",
            "#.............#...........#....",
            "...#.........#...#....#.....#..",
            "..##......#...#...............#",
            ".............#.........#....#..",
            "..#...........#..#........#.##.",
            ".#.#......#.............##...#.",
            ".#......#.....##.#..#..#.......",
            "....##......#..................",
            ".#.#..##............#....#....#",
            "........#...##.............#..#",
            "........#....##.....#......###.",
            ".........#....#.#..............",
            "#.....#........................",
            ".#..#....#.....#......#.###..#.",
            "..........#...#....##....#..#..",
            "...#.#.#...##..#..#......#..#.#",
            "#............#.....#....#......",
            "#.###...#.#......###..#....#..#",
            "...#.###........#......#....#..",
            "..#.##...#.........#.#.........",
            "............##.................",
            "....#..........#.#.#.#.#....#..",
            "...##.#...#.......#.......##..#",
            "....##.#........#....#...#.....",
            ".............#.#....#...#.....#",
            "...#......................##...",
            "..#...#.....#.....#........#..#",
            "..#..#.......#....#..##.....#..",
            "..#..#.#.......................",
            ".......##..#....#....#..#......",
            "....#......##....#............#",
            ".#...#..#..#.##...#.#...#......",
            ".....#......#....#.........#...",
            ".##......##.........#....#.....",
            "#...........#...##.....#......#",
            ".....#.#.......#.........#.....",
            ".........#..........#..####.##.",
            "............#..#......#.#......",
            ".#.............#........#.#....",
            "......#......#...#..#....#####.",
            ".........##.#..##...###..#....#",
            "....#.#....#.#..#.........#....",
            "..#.............#...##...##....",
            "........#..........#.##..#....#",
            ".....#...#..##........#.#..#...",
            "##..#.#.....#............#.....",
            ".............#........##...##..",
            "#......####.....##.............",
            "..##.....##....###..#.#....#...",
            "......##.##.#...#..#.#..##.....",
            "......#.................#......",
            "#.....#.#...#......#.#....#....",
            "....#.#........#..............#",
            "##........#.......##.#...##...#",
            "..#..................#.#....#..",
            "...........#..........#.#.....#",
            "........##.#.....#......#..#..#",
            ".....#....#..#.....#.........##",
            "#.#..#..#...#......#..........#",
            "#...##.....#..#.#.......#.##...",
            "..#....##...............#......",
            "#..........#.#.........#.#....#",
            "..............#......#....#....",
            ".....#...........#...#...#...#.",
            "...#......#....#....#..........",
            ".#..........#.#....##..##....#.",
            "..............#.........#.#....",
            ".......#.....#.....#...##....#.",
            "##.#.........#....#.....#.#....",
            "....#..#......#................",
            "......##.....#.......##........",
            ".....##...#........#...#...#...",
            "..#...#...#..#..#.#......#..#..",
            "....#...#.......#..............",
            "....#..#.........###........#..",
            "....#.............##..#........",
            "..........##.#.......##..##....",
            "#.##..................#.....#..",
            "#........#........#.....#......",
            ".#...#......#..................",
            "#....##.##......#...#.........#",
            "......#.##..##................#",
            "............#.........##.......",
            "..........####.#........#.....#",
            ".##...#...#....#..#............",
            ".#.##...#..#...#......#......##",
            ".....#.#....#..###......#.#.#..",
            "...#.......................##..",
            "......................#.......#",
            "..#....#.........#..#.#.....#..",
            ".#....#..#....#...#............",
            "..........#...##.....#.#..#....",
            "........#..#..#....#...#...#...",
            ".....#......#.#................",
            ".....#...........#...#.........",
            ".....#...##..#.#....#..#.....#.",
            "#.......#.............##.......",
            "................#....#.#..#....",
            ".#..##...#.#........#......#.#.",
            ".#.##..........#...............",
            "....##......#....#........#....",
            "....#..#....#.##.#.............",
            ".......#..#......##.#.....#....",
            ".......#.....#.............#...",
            ".....#....#.......#............",
            "........#.#...##..##..##.......",
            "#.........##....##...##........",
            "........#..#.#..........###.#..",
            "..........................#.#..",
            "#.....#.......#..#........#....",
            "...##.....#.......#......#.....",
            ".#.#..#...........#...........#",
            ".....##..#........#...####.....",
            ".#.#...##.#.#..#..#.#..#.......",
            "..#.##.#...#.#.#...#..#........",
            "............#..........#..#....",
            "...............#..##.#.........",
            ".............#.....#....#......",
            "...##..##......##..........#...",
            "..#.......#....#..........#...#",
            ".##................#.#.#.......",
            ".....##.....#..#.....#.........",
            "......#.#.......#......#..#....",
            ".....#.....#........#.......##.",
            "......#.......##......#...#...#",
            "....#...........###.........#..",
            "...#.....#.........##........#.",
            "..#.....#..............#.......",
            "....#.......#...#....#....#..##",
            "......#...........#...........#",
            ".##......#......#.#.....#.##...",
            "....#..##......#...#..#.#.###..",
            ".......#.#....#......#..#......",
            "..........#........#...........",
            "#.##.........#.#.#...#...#.#...",
            ".#......###.....#....#.#....#..",
            "...................##..#.......",
            "....#..#..............#.#.....#",
            "#..................#.....#.....",
            "...........##.##.......#..#.#..",
            "........#.#......#...........#.",
            "#..#.......#...#...........#.#.",
            "......##...........#...........",
            ".........#.#........#........#.",
            "#......#....#.#.....#..#.......",
            "............#..#.....##...#....",
            ".#......#..#......#.........#..",
            ".......#...#.........#.##.....#",
            "........................#..#...",
            ".###..............#.#..#.......",
            ".....#.........#.......#......#",
            "..##..##....#.....#.......#.#..",
            "...###.#..#.##............#...."
        };
    }
}